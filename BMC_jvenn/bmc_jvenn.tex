%% BioMed_Central_Tex_Template_v1.06
%%                                      %
%  bmc_article.tex            ver: 1.06 %
%                                       %

%%IMPORTANT: do not delete the first line of this template
%%It must be present to enable the BMC Submission system to
%%recognise this template!!

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                                     %%
%%  LaTeX template for BioMed Central  %%
%%     journal article submissions     %%
%%                                     %%
%%          <8 June 2012>              %%
%%                                     %%
%%                                     %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                                                                 %%
%% For instructions on how to fill out this Tex template           %%
%% document please refer to Readme.html and the instructions for   %%
%% authors page on the biomed central website                      %%
%% http://www.biomedcentral.com/info/authors/                      %%
%%                                                                 %%
%% Please do not use \input{...} to include other tex files.       %%
%% Submit your LaTeX manuscript as one .tex document.              %%
%%                                                                 %%
%% All additional figures and files should be attached             %%
%% separately and not embedded in the \TeX\ document itself.       %%
%%                                                                 %%
%% BioMed Central currently use the MikTex distribution of         %%
%% TeX for Windows) of TeX and LaTeX.  This is available from      %%
%% http://www.miktex.org                                           %%
%%                                                                 %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%% additional documentclass options:
%  [doublespacing]
%  [linenumbers]   - put the line numbers on margins

%%% loading packages, author definitions

%\documentclass[twocolumn]{bmcart}% uncomment this for twocolumn layout and comment line below
\documentclass{bmcart}

%%% Load packages
%\usepackage{amsthm,amsmath}
%\RequirePackage{natbib}
%\RequirePackage{hyperref}
\usepackage[utf8]{inputenc} %unicode support
%\usepackage[applemac]{inputenc} %applemac support if unicode package fails
%\usepackage[latin1]{inputenc} %UNIX support if unicode package fails


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                                             %%
%%  If you wish to display your graphics for   %%
%%  your own use using includegraphic or       %%
%%  includegraphics, then comment out the      %%
%%  following two lines of code.               %%
%%  NB: These line *must* be included when     %%
%%  submitting to BMC.                         %%
%%  All figure files must be submitted as      %%
%%  separate graphics through the BMC          %%
%%  submission process, not included in the    %%
%%  submitted article.                         %%
%%                                             %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


\def\includegraphic{}
\def\includegraphics{}



%%% Put your definitions there:
\startlocaldefs
\endlocaldefs


%%% Begin ...
\begin{document}

%%% Start of article front matter
\begin{frontmatter}

\begin{fmbox}
\dochead{Research}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                                          %%
%% Enter the title of your article here     %%
%%                                          %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\title{jvenn: an interactive venn diagram viewer.}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                                          %%
%% Enter the authors here                   %%
%%                                          %%
%% Specify information, if available,       %%
%% in the form:                             %%
%%   <key>={<id1>,<id2>}                    %%
%%   <key>=                                 %%
%% Comment or delete the keys which are     %%
%% not used. Repeat \author command as much %%
%% as required.                             %%
%%                                          %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\author[
   addressref={aff1},                   % id's of addresses, e.g. {aff1,aff2}
   corref={aff1},                       % id of corresponding address, if any
   noteref={n1},                        % id's of article notes, if any
   email={jane.e.doe@cambridge.co.uk}   % email address
]{\inits{JE}\fnm{Jane E} \snm{Doe}}
\author[
   addressref={aff1,aff2},
   email={john.RS.Smith@cambridge.co.uk}
]{\inits{JRS}\fnm{John RS} \snm{Smith}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                                          %%
%% Enter the authors' addresses here        %%
%%                                          %%
%% Repeat \address commands as much as      %%
%% required.                                %%
%%                                          %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\address[id=aff1]{%                           % unique id
  \orgname{Department of Zoology, Cambridge}, % university, etc
  \street{Waterloo Road},                     %
  %\postcode{}                                % post or zip code
  \city{London},                              % city
  \cny{UK}                                    % country
}
\address[id=aff2]{%
  \orgname{Marine Ecology Department, Institute of Marine Sciences Kiel},
  \street{D\"{u}sternbrooker Weg 20},
  \postcode{24105}
  \city{Kiel},
  \cny{Germany}
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                                          %%
%% Enter short notes here                   %%
%%                                          %%
%% Short notes will be after addresses      %%
%% on first page.                           %%
%%                                          %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{artnotes}
%\note{Sample of title note}     % note to the article
\note[id=n1]{Equal contributor} % note, connected to author
\end{artnotes}

\end{fmbox}% comment this for two column layout

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                                          %%
%% The Abstract begins here                 %%
%%                                          %%
%% Please refer to the Instructions for     %%
%% authors on http://www.biomedcentral.com  %%
%% and include the section headings         %%
%% accordingly for your article type.       %%
%%                                          %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{abstractbox}

\begin{abstract} % abstract
\parttitle{Background} %if any


\parttitle{Results} %if any

...
Currently there is no software that provides such features.

\parttitle{Conclusions} %if any
conclusions ....

\end{abstract}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                                          %%
%% The keywords begin here                  %%
%%                                          %%
%% Put each keyword in separate \kwd{}.     %%
%%                                          %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{keyword}
\kwd{venn}
\kwd{edward}
\kwd{diagram}
\kwd{jquery}
\kwd{javascript}
\end{keyword}

% MSC classifications codes, if any
%\begin{keyword}[class=AMS]
%\kwd[Primary ]{}
%\kwd{}
%\kwd[; secondary ]{}
%\end{keyword}

\end{abstractbox}
%
%\end{fmbox}% uncomment this for twcolumn layout

\end{frontmatter}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                                          %%
%% The Main Body begins here                %%
%%                                          %%
%% Please refer to the instructions for     %%
%% authors on:                              %%
%% http://www.biomedcentral.com/info/authors%%
%% and include the section headings         %%
%% accordingly for your article type.       %%
%%                                          %%
%% See the Results and Discussion section   %%
%% for details on how to create sub-sections%%
%%                                          %%
%% use \cite{...} to cite references        %%
%%  \cite{koon} and                         %%
%%  \cite{oreg,khar,zvai,xjon,schn,pond}    %%
%%  \nocite{smith,marg,hunn,advi,koha,mouse}%%
%%                                          %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%% start of article main body
% <put your article body there>

%%%%%%%%%%%%%%%%
%% Background %%
%%

\section*{Background}

The massive amounts of data generated by biological projects makes the analysis of such projects more and 
more difficult. In such a context, it is important to provide researchers with effective visualization 
tools to explore and extract relevant knowledge from these data sets. Data analysis often leads to the 
production of biological identifiers (gene names, operational taxonomic unit, ...) for which it is 
interesting to know intersections between samples. One of the most popular visualization chart is the 
Venn diagrams \cite{Venn1880} wich allows to identify shared and unshared identifiers providing an insight 
on the similarities between the data sets.

Several Venn diagram applications are availble. Some of them such as BioVenn \cite{Hulsen2008} or venny 
\cite{venny} provides their users a web application with text areas as inputs to enter identifiers.
Where the first one outputs a three lists area-proportional diagram, the second one offers a four lists 
diagram without any respect of area proportions. Canvasxpress \cite{canvasxpress} and the Google Chart API
\cite{googleAPI}, meanwhile, are javascript libraries including Venn diagram features that can easily be 
embedded in any WEB site. These libraries can only have as inputs numbers corresponding to each intersections
and cannot perform any calculations to otain them.

We intruduce jvenn a javascript library aiming to be part of rich WEB environments helping scientists to analyse 
their data, such does already existing tools as jbrowse \cite{Westesson01032013}, Cytoscape-Web \cite{Lopes2010}, 
and jHeatmap \cite{DeuPons2014}. Jvenn handles up to 6 lists venn diagram, can display Edwards-Venn diagram
\cite{Edwards2004}, can easily be embeded within any web site, allows to provide inputs data in three different formats 
(list/number/list+number), allows to export the diagram to png and permits to overload the callback 
function to control users interactions. jvenn has already been used in several scientific publications to display 
sets and their overlapping areas \cite{Bianchia2013, Aravindraja2013}. 


\section*{Implementation}

jvenn is a javascript library written as a jQuery plugin \cite{jquery} and can be embeded within any WEB applications 
by referencing the javascript file from an HTML page. For researchers who want to produce a Venn diagram from their 
identifiers, jvenn is also available as a WEB application at http://bioinfo.genotoul.fr/index.php?id=116. A full 
documentation to insert the plugin within a WEB application is included in the software package that can be downloaded 
from https://mulcyber.toulouse.inra.fr/plugins/mediawiki/wiki/venny/index.php/Accueil.


\section*{Results and Discussion}

The jvenn output is a chart of two to six areas in which each area represents one of the identifiers set define as input. 
The numbers of each overlaps are displayed and are clickable by the user to access the identifiers list belonging to the 
intersection. In order to ease overlaps understanding, when the user is over an intersection number, jvenn overlights the 
pointed classes and blurs the other ones.

The library provides an option to define the data inputs: \textit{series}. The library accepts three different input formats. 
In case the \textit{series} are a list of value, the plugin will compute itself the overlaps between lists. The \textit{series} 
can also define the number to display for each intersections or can be defined as a mix of the first two formats. 
The resulting display is created with the help of the javascript canvas object which allows to export the chart as a png file. 
This last feature can be disabled in order to hide the exporting button from the user by setting the \textit{exporting} option 
to \textit{false}.

jvenn handles up to six classes, what leads to display sixty three overlap numbers. Displaying and interacting with such a chart
can be bulky and difficult. In such a case, jvenn propose a switch button panel which allows to activate or disactivate classes. 
The selected overlap number is then displayed and can be clicked just like the other ones. jvenn also provides the Edwards-Venn
display (Fig. 2) available by setting the \textit{displayType} option to \textit{edwards}. This display gives a different 
graphical representation of the classes which can be clearer whith a 6 classes diagram.
The WEB application creator can also overload the callback function defining the click on an overlap number. This can be done 
by defining the \textit{fnClickCallback} parameter. The overloading function has access to the \textit{this.listnames} and
\textit{this.list} variables allowing the developer to control the users interactions with the jvenn plugin. This feature can
be disabled by setting the \textit{disableClick} option to \textit{true}.

As example, we produced two venn diagrams representing six samples SRR068049, SRR06805, SRR068051, SRR068052, SRR068053 and 
SRR068054 corresponding to sets of Operational Taxonomic Units observed under different conditions. Fig. 1 shows intersections
between five of them using the Venn diagram display. In Fig. 2, jvenn overlights the intersection between three samples of the 
six ones used to create the Edwards-Venn diagram.


\section*{Conclusions}

jvenn is an easy-to-use library aiming to generate Venn and Edwards-Venn diagrams from lists of identifiers or from
computed numbers. Its implementation as a javascript library allows whoever who have WEB programming skills to embed 
it within its WEB application without any dependancies. jvenn is already embeded within nG6 \cite{Mariette2012}, 
RNAbrowse \cite{Mariette} and WallProtDB \cite{WallProtDB} WEB applications.

\section*{Availability and requirements}

jvenn is freely available under the GNU General Public License (GPL) at 
https://mulcyber.toulouse.inra.fr/plugins/mediawiki/wiki/venny/index.php/Accueil webcite. Some examples and a full documentation 
can be found on the downloadable archive. A running version is accessible at http://bioinfo.genotoul.fr/index.php?id=116.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                                          %%
%% Backmatter begins here                   %%
%%                                          %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{backmatter}

\section*{Competing interests}
  The authors declare that they have no competing interests.

\section*{Author's contributions}
    Text for this section \ldots

\section*{Acknowledgements}
We would like to acknowledge all our users for providing us useful feedback on
the system and for pointing out features worth developing.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                  The Bibliography                       %%
%%                                                         %%
%%  Bmc_mathpys.bst  will be used to                       %%
%%  create a .BBL file for submission.                     %%
%%  After submission of the .TEX file,                     %%
%%  you will be prompted to submit your .BBL file.         %%
%%                                                         %%
%%                                                         %%
%%  Note that the displayed Bibliography will not          %%
%%  necessarily be rendered by Latex exactly as specified  %%
%%  in the online Instructions for Authors.                %%
%%                                                         %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% if your bibliography is in bibtex format, use those commands:
\bibliographystyle{bmc-mathphys} % Style BST file
\bibliography{bmc_jvenn}      % Bibliography file (usually '*.bib' )

% or include bibliography directly:
% \begin{thebibliography}
% \bibitem{b1}
% \end{thebibliography}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                               %%
%% Figures                       %%
%%                               %%
%% NB: this is for captions and  %%
%% Titles. All graphics must be  %%
%% submitted separately and NOT  %%
%% included in the Tex document  %%
%%                               %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%
%% Do not use \listoffigures as most will included as separate files

\section*{Figures}
  \begin{figure}[h!]
  \caption{\csentence{A five lists Venn diagram.}
      A Venn diagram displaying overlaps between five different biological samples. When 
      the user click on a number, the function called is the one specified by the application
      developper. On the top-right, the exporting module allows the user to download its diagram
      as a png file.}
      \end{figure}

\begin{figure}[h!]
  \caption{\csentence{A six lists Edwards-Venn diagram.}
      When the user is pointing a specific number, the lists involved in the intersection
      are overlighted and the other ones are blurred. In this example, the user pointed the
      intersection between the samples SRR068049, SRR068051 and SRR068052 which contains
      twelve different identifiers.}
      \end{figure}

\end{backmatter}
\end{document}
